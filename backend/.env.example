# Uplokal Backend Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# =============================================================================
# DATABASE (Supabase PostgreSQL)
# =============================================================================
# Get this from: Supabase Dashboard → Settings → Database → Connection string
# Use "Transaction" mode pooler for serverless
DATABASE_URL=postgresql+asyncpg://postgres.xxxx:your_password@aws-0-region.pooler.supabase.com:6543/postgres

# Supabase Project URL & Keys (for optional direct client usage)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# =============================================================================
# REDIS (for sessions and caching)
# =============================================================================
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# AUTHENTICATION
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=CHANGE_ME_generate_a_secure_random_string_min_32_chars
JWT_ALGORITHM=HS256
JWT_EXPIRY_MINUTES=60

# =============================================================================
# GOOGLE OAUTH
# =============================================================================
# Get from: Google Cloud Console → APIs & Services → Credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# =============================================================================
# MIDTRANS PAYMENT GATEWAY
# =============================================================================
# Get from: Midtrans Dashboard → Settings → Access Keys
# Use Sandbox keys for testing, Production keys for live
MIDTRANS_SERVER_KEY=SB-Mid-server-xxxx
MIDTRANS_CLIENT_KEY=SB-Mid-client-xxxx
MIDTRANS_IS_PRODUCTION=false
MIDTRANS_MERCHANT_ID=your-merchant-id

# =============================================================================
# ENCRYPTION (URL obfuscation and document security)
# =============================================================================
# Hashids salt for ID obfuscation - any unique string
HASHIDS_SALT=uplokal_unique_salt_change_this

# AES-256 key for encrypted parameters (exactly 32 bytes)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32)[:32])"
AES_KEY=CHANGE_ME_exactly_32_characters_

# Signed URL expiry in seconds (default: 30 minutes)
SIGNED_URL_EXPIRY_SECONDS=1800

# =============================================================================
# STORAGE (Document Vault)
# =============================================================================
# Local storage path (for development)
STORAGE_PATH=./storage/documents

# Supabase Storage (for production) - uses same SUPABASE_URL and keys above
# STORAGE_BUCKET=documents

# =============================================================================
# CORS & SECURITY
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5500,http://localhost:8000,http://127.0.0.1:5500

# =============================================================================
# APPLICATION
# =============================================================================
DEBUG=true
APP_ENV=development
